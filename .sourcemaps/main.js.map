{"version":3,"sources":["../../src/services/deal-service.ts","../../src/pages/pick-up/pick-up.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/auth-service.ts","../../src/pages/user/user.ts","../../src/services/setting-service.ts","../../src/pages/register/register.ts","../../src/pages/wallet/wallet.ts","../../src/services/transaction-service.ts","../../src/pages/job-history/job-history.ts","../../src/services/report-service.ts","../../src/services/constants.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../node_modules/moment/locale ^/.*$","../../src/pages/home/home.ts","../../src/services/trip-service.ts","../../src/services/place-service.ts","../../src/services/driver-service.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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CAAC;gBAC9B,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,gBAAgB;YAChB,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,kBAAQ;gBACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,KAAI,CAAC,IAAI,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC;oBAEtC,6BAA6B;oBAC7B,aAAa,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;oBACjC,aAAa,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,kBAAQ;wBAC1C,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;oBACzB,CAAC,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACrB,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IA1DU,KAAK;QANjB,gEAAS,CAAC;YACT,UAAuB;YACvB,OAAO,EAAE;aACsB;WAC9B;SACF,CAAC;4KASsB,CAAsF;YAC3F,6EAAa,4EAAU,+EAAe;YACjC,EAAyE;OAVpF,KAAK,CA2DjB;IAAD,CAAC;AAAA;SA3DY,KAAK,2B;;;;;;;AC5BlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtQ0C;AACsD;AAElC;AACqE;AACzE;AACA;AACE;AAEZ;AACR;AACM;AACc;AAEJ;AACD;AAQvD;IAYE,kBAAmB,GAAkB,EAAS,aAA4B,EAAS,IAAmB,EAAS,SAA0B,EAAS,SAA0B,EAAS,WAAwB,EAAS,WAAwB,EAAS,YAA0B,EAAS,WAAwB,EAAS,SAA2B;QAAnU,QAAG,GAAH,GAAG,CAAe;QAAS,kBAAa,GAAb,aAAa,CAAe;QAAS,SAAI,GAAJ,IAAI,CAAe;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,gBAAW,GAAX,WAA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","file":"main.js","sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { AngularFireDatabase } from \"angularfire2/database/database\";\r\nimport { DEAL_STATUS_ACCEPTED } from \"./constants\";\r\nimport { TripService } from \"./trip-service\";\r\n\r\n@Injectable()\r\nexport class DealService {\r\n\r\n  constructor(public db: AngularFireDatabase, public tripService: TripService) {\r\n\r\n  }\r\n\r\n  getDeal(driverId) {\r\n    return this.db.object('deals/' + driverId);\r\n  }\r\n\r\n  removeDeal(driverId) {\r\n    return this.db.object('deals/' + driverId).remove();\r\n  }\r\n\r\n  // accept a deal\r\n  acceptDeal(driverId, deal) {\r\n    deal.driverId = driverId;\r\n\r\n    // create trip from deal\r\n    return this.tripService.createFromDeal(deal).then((trip) => {\r\n\r\n      this.tripService.setCurrentTrip(trip.key);\r\n      // set tripId to deal\r\n      return this.db.object('deals/' + driverId).update({\r\n        status: DEAL_STATUS_ACCEPTED,\r\n        tripId: trip.key\r\n      });\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/deal-service.ts","import { Component } from '@angular/core';\r\nimport { NavController, AlertController } from 'ionic-angular';\r\nimport { TripService } from \"../../services/trip-service\";\r\nimport { DealService } from \"../../services/deal-service\";\r\nimport { HomePage } from '../home/home';\r\nimport * as firebase from 'firebase';\r\n\r\n@Component({\r\n  selector: 'page-pick-up',\r\n  templateUrl: 'pick-up.html'\r\n})\r\nexport class PickUpPage {\r\n  // trip info\r\n  trip: any;\r\n  passenger: any = {};\r\n  isTripStarted = false;\r\n\r\n  constructor(public nav: NavController, public tripService: TripService, public alertCtrl: AlertController,\r\n    public dealService: DealService) {\r\n    this.trip = tripService.getCurrentTrip();\r\n    let getTrips = tripService.getTripStatus(this.trip.$key).subscribe( trip => {\r\n      if(trip.status == 'canceled'){\r\n        getTrips.unsubscribe();\r\n        this.tripService.cancel(this.trip.$key);\r\n        this.dealService.removeDeal(this.trip.driverId);\r\n        this.alertCtrl.create({ title:'Trip Canceled'}).present();\r\n        this.nav.setRoot(HomePage);\r\n      }\r\n    })\r\n    tripService.getPassenger(this.trip.passengerId).take(1).subscribe(snapshot => {\r\n      this.passenger = snapshot;\r\n    })\r\n  }\r\n\r\n  // pickup\r\n  pickup() {\r\n    this.alertCtrl.create({\r\n      subTitle: \"Please Enter OTP from customer\",\r\n      inputs:[{\r\n        name: 'otp',\r\n        placeholder: '4 digit OTP'\r\n      }],\r\n      buttons:[{\r\n        text: \"Verify\",\r\n        handler: (data) =>{\r\n          console.log(data);\r\n          console.log(this.trip.$key);\r\n          firebase.database().ref('trips/'+this.trip.$key).once('value', snap => {\r\n            console.log(snap.val())\r\n            if(snap.val().otp != data.otp){\r\n              this.alertCtrl.create({ title: 'Error', subTitle: 'Invalide OTP'}).present();\r\n            }\r\n            else{\r\n              this.isTripStarted = true;\r\n              this.tripService.pickUp(this.trip.$key);\r\n            }\r\n          })\r\n        }\r\n      }]\r\n    }).present();\r\n  }\r\n\r\n  getDirection(lat,lng){\r\n    console.log(\"call\");\r\n    let url = \"https://www.google.com/maps/dir/?api=1&travelmode=driving&origin=Current Location&destination=\"+lat+\",\"+lng;\r\n    window.open(url);\r\n  }\r\n\r\n  showPayment() {\r\n    let final = this.trip.fee - (this.trip.fee * (parseInt(this.trip.discount) / 100))\r\n    this.alertCtrl.create({\r\n      message: '<h1>'+this.trip.currency+' '+final+'</h1> <p>Fee: '+ this.trip.fee + ' <br> Discount (%): '+this.trip.discount+' ('+this.trip.promocode+')<br>Payment Method: '+this.trip.paymentMethod+'</p>',\r\n      buttons: [\r\n        {\r\n          text: 'OK',\r\n          handler: () => {\r\n            this.tripService.dropOff(this.trip.$key);\r\n            this.dealService.removeDeal(this.trip.driverId);\r\n            this.nav.setRoot(HomePage);\r\n          }\r\n        }\r\n      ]\r\n    }).present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pick-up/pick-up.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 141;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 141\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 183;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 183\n// module chunks = 0","import { Injectable } from \"@angular/core\";\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/take';\r\nimport { DEFAULT_AVATAR, DRIVER_INIT_BALANCE, DRIVER_INIT_RATING, EMAIL_VERIFICATION_ENABLED, APPROVAL_REQUIRED } from \"./constants\";\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n  user: any;\r\n  constructor(public afAuth: AngularFireAuth, public db: AngularFireDatabase, ) { }\r\n\r\n  getUserData() { // get current user data from firebase\r\n    return this.afAuth.auth.currentUser;\r\n  }\r\n\r\n  getUser(id) { // get driver by id\r\n    return this.db.object('drivers/' + id);\r\n  }\r\n\r\n  login(email, password) {\r\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password); // login with email & password\r\n  }\r\n\r\n  logout() {\r\n    return this.afAuth.auth.signOut();   // logout from firebase\r\n  }\r\n\r\n  // register new account\r\n  register(userInfo) {\r\n    return Observable.create(observer => {\r\n      this.afAuth.auth.createUserWithEmailAndPassword(userInfo.email, userInfo.password).then((authData: any) => {\r\n        // update driver object\r\n        userInfo.uid = authData.uid;\r\n        userInfo.rating = DRIVER_INIT_RATING;\r\n        userInfo.balance = DRIVER_INIT_BALANCE;\r\n        userInfo.photoURL = DEFAULT_AVATAR;\r\n        userInfo.canRide = !APPROVAL_REQUIRED;\r\n        userInfo.isPhoneVerified = false;\r\n\r\n        this.getUserData().updateProfile({ displayName: userInfo.name, photoURL: DEFAULT_AVATAR });\r\n        this.db.object('drivers/' + userInfo.uid).update(userInfo);\r\n\r\n        if (EMAIL_VERIFICATION_ENABLED === true)\r\n          this.getUserData().sendEmailVerification();\r\n        observer.next();\r\n      }).catch((error: any) => {\r\n        if (error) {\r\n          observer.error(error);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth-service.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, AlertController, ToastController, Platform } from 'ionic-angular';\r\nimport { AuthService } from \"../../services/auth-service\";\r\nimport * as firebase from 'firebase';\r\nimport { SettingService } from \"../../services/setting-service\";\r\nimport { LoginPage } from '../login/login';\r\nimport { CUSTOMER_CARE, CURRENCY_SYMBOL, DEFAULT_COUNTRY_CODE, DEFAULT_COUNTRY_MOBILE_CODE } from \"../../services/constants\";\r\nimport { HomePage } from '../home/home';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'page-user',\r\n  templateUrl: 'user.html',\r\n})\r\nexport class UserPage {\r\n  user: any = {};\r\n  currency: any;\r\n  support = CUSTOMER_CARE;\r\n  tripCount = 0;\r\n  totalEarning = 0;\r\n  rating: any = 5;\r\n  types: Array<any> = [];\r\n  tabs: any = 'profile';\r\n\r\n  constructor(public nav: NavController, public authService: AuthService, public navParams: NavParams, public loadingCtrl: LoadingController,\r\n    public settingService: SettingService, public alertCtrl: AlertController, public toastCtrl: ToastController, public platform: Platform, public translate: TranslateService) {\r\n    let user = navParams.get('user');\r\n    this.currency = CURRENCY_SYMBOL;\r\n    // list of vehicle types\r\n    this.settingService.getVehicleType().take(1).subscribe(snapshot => {\r\n      console.log(snapshot);\r\n      if (snapshot.$value === null) {\r\n        this.settingService.getDefaultVehicleType().take(1).subscribe(snapshot => {\r\n          this.types = Object.keys(snapshot).map(function(key) {\r\n            return snapshot[key];\r\n          });\r\n          console.log(this.types);\r\n        })\r\n      } else {\r\n        this.types = Object.keys(snapshot).map(function(key) {\r\n          return snapshot[key];\r\n        });\r\n        console.log(this.types);\r\n      }\r\n    });\r\n\r\n    this.authService.getUser(user.uid).take(1).subscribe(snapshot => {\r\n      snapshot.uid = snapshot.$key;\r\n      this.user = snapshot;\r\n      this.rating = this.user.rating;\r\n      this.getTrips();\r\n    });\r\n    this.user.isEmailVerified = firebase.auth().currentUser.emailVerified;\r\n    console.log(this.user);\r\n  }\r\n\r\n  save() {\r\n    console.log(this.user);\r\n    this.authService.getUser(this.user.uid).update(this.user).then(data => {\r\n      this.displayToast(\"Updated successfully\")\r\n      this.nav.setRoot(HomePage);\r\n    });\r\n  }\r\n  chooseFile() { document.getElementById('avatar').click(); }\r\n\r\n  upload() {\r\n    // Create a root reference\r\n    let storageRef = firebase.storage().ref();\r\n    let loading = this.loadingCtrl.create({ content: 'Please wait...' });\r\n    loading.present();\r\n\r\n    for (let selectedFile of [(<HTMLInputElement>document.getElementById('avatar')).files[0]]) {\r\n      let path = '/users/' + Date.now() + `${selectedFile.name}`;\r\n      let iRef = storageRef.child(path);\r\n      iRef.put(selectedFile).then((snapshot) => {\r\n        loading.dismiss();\r\n        this.user.photoURL = snapshot.downloadURL;\r\n        this.save()\r\n      });\r\n    }\r\n  }\r\n\r\n  // code for uploading licence image\r\n  chooseDocs() {\r\n    document.getElementById('docsPDF').click();\r\n  }\r\n  uploadDocs() {\r\n    let storageRef = firebase.storage().ref();\r\n    let loading = this.loadingCtrl.create({ content: 'Please wait...' });\r\n    loading.present();\r\n    for (let selectedFile of [(<HTMLInputElement>document.getElementById('docsPDF')).files[0]]) {\r\n      let path = '/users/' + Date.now() + `${selectedFile.name}`;\r\n      let iRef = storageRef.child(path);\r\n      iRef.put(selectedFile).then((snapshot) => {\r\n        loading.dismiss();\r\n        this.user.docsURL = snapshot.downloadURL;\r\n      });\r\n    }\r\n  }\r\n\r\n  // show alert with message\r\n  showAlert(message) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Error',\r\n      subTitle: message,\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  getTrips() {\r\n    console.log(this.user.uid);\r\n    let ref = firebase.database().ref('trips');\r\n    ref.orderByChild(\"driverId\").equalTo(this.user.uid).on('value', snapshot => {\r\n      console.log(snapshot.val());\r\n      let tmp = [];\r\n      let earning = 0;\r\n      snapshot.forEach(snap => {\r\n        if (snap.val().status === 'finished') {\r\n          earning += parseFloat(snap.val().fee);\r\n          let trip = { key: snap.key, ...snap };\r\n          tmp.push(trip);\r\n        }\r\n        return false;\r\n      })\r\n      this.tripCount = tmp.length;\r\n      this.totalEarning = earning;\r\n    });\r\n  }\r\n\r\n\r\n  logout() {\r\n    this.authService.logout().then(() => {\r\n      this.nav.setRoot(LoginPage);\r\n    });\r\n  }\r\n\r\n  verifyPhone() {\r\n    if (this.platform.is('core')) {\r\n      this.displayToast(\"Only Works on Device\");\r\n    }\r\n    else {\r\n      console.log(this.user.phoneNumber);\r\n      (<any>window).AccountKitPlugin.loginWithPhoneNumber({\r\n        useAccessToken: true,\r\n        defaultCountryCode: DEFAULT_COUNTRY_CODE,\r\n        facebookNotificationsEnabled: true,\r\n        initialPhoneNumber: [DEFAULT_COUNTRY_MOBILE_CODE, this.user.phoneNumber]\r\n      }, data => {\r\n        this.displayToast(\"Verified Successfully\");\r\n        this.user.isPhoneVerified = true;\r\n        //this.authService.updateUserProfile(this.user);\r\n      });\r\n    }\r\n  }\r\n\r\n  verifyEmail() {\r\n    firebase.auth().currentUser.sendEmailVerification().then(data => {\r\n      this.displayToast(\"Please check your inbox\");\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  displayToast(message) {\r\n    this.toastCtrl.create({ duration: 2000, message }).present();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts","import { Injectable } from \"@angular/core\";\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { Storage } from \"@ionic/storage\";\r\nimport { PlaceService } from \"./place-service\";\r\n\r\n@Injectable()\r\nexport class SettingService {\r\n\r\n  constructor(public db: AngularFireDatabase, public storage: Storage, public placeService: PlaceService) {\r\n\r\n  }\r\n\r\n  getVehicleType() {\r\n    return this.db.object('master_settings/prices/' + this.placeService.getLocality() + '/vehicles');\r\n  }\r\n\r\n  getDefaultVehicleType() {\r\n    return this.db.object('master_settings/prices/default/vehicles');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/setting-service.ts","import { Component } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController } from 'ionic-angular';\r\nimport { LoginPage } from '../login/login';\r\nimport { AuthService } from \"../../services/auth-service\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'page-register',\r\n  templateUrl: 'register.html'\r\n})\r\n\r\nexport class RegisterPage {\r\n  userInfo: any = {};\r\n  constructor(public nav: NavController, public authService: AuthService, public alertCtrl: AlertController, public loadingCtrl: LoadingController, public translate: TranslateService) { }\r\n\r\n  signup() {\r\n    let loading = this.loadingCtrl.create({ content: 'Creating Account...' });\r\n    loading.present();\r\n    this.authService.register(this.userInfo).subscribe(() => {\r\n      loading.dismiss();\r\n      this.alertCtrl.create({ message: 'Account Created Successfully', buttons: ['OK'] }).present();\r\n    }, error => {\r\n      loading.dismiss();\r\n      this.alertCtrl.create({ message: error.message, buttons: ['OK'] }).present();\r\n    });\r\n  }\r\n\r\n  login() {\r\n    this.nav.setRoot(LoginPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { Component } from '@angular/core';\r\nimport { NavController, AlertController, ToastController } from 'ionic-angular';\r\nimport { TransactionService } from '../../services/transaction-service';\r\nimport { DriverService } from \"../../services/driver-service\";\r\nimport { CURRENCY_SYMBOL } from '../../services/constants';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'page-wallet',\r\n  templateUrl: 'wallet.html'\r\n})\r\nexport class WalletPage {\r\n  // list of transactions\r\n  public records: any;\r\n  public driver: any;\r\n  currency: any = CURRENCY_SYMBOL;\r\n\r\n  constructor(public nav: NavController, public transactionService: TransactionService, public translate: TranslateService,\r\n    public driverService: DriverService, public alertCtrl: AlertController, public toastCtrl: ToastController) {\r\n    // get transactions from service\r\n    transactionService.getTransactions().subscribe(snapshot => {\r\n      this.records = snapshot.reverse();\r\n      console.log(this.records);\r\n    });\r\n    driverService.getDriver().subscribe(snapshot => {\r\n      this.driver = snapshot;\r\n    });\r\n\r\n  }\r\n\r\n  withdraw() {\r\n\r\n    let prompt = this.alertCtrl.create({\r\n      title: 'Make a withdraw',\r\n      message: \"\",\r\n      inputs: [\r\n        {\r\n          name: 'amount',\r\n          placeholder: 'Amount'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Submit',\r\n          handler: data => {\r\n\r\n            if (data.amount > this.driver.balance) {\r\n              let alert = this.alertCtrl.create({\r\n                title: 'Error',\r\n                message: 'Your balance is not enough',\r\n                buttons: ['OK']\r\n              });\r\n              return alert.present();\r\n            }\r\n\r\n            this.transactionService.widthDraw(data.amount, this.driver.balance).then(() => {\r\n              let toast = this.toastCtrl.create({\r\n                message: 'Withdraw Requested successfully',\r\n                duration: 3000,\r\n              });\r\n              toast.present();\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    prompt.present();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wallet/wallet.ts","import { Injectable } from \"@angular/core\";\r\nimport { AngularFireDatabase } from \"angularfire2/database/database\";\r\nimport { AuthService } from \"./auth-service\";\r\nimport { TRANSACTION_TYPE_WITHDRAW } from \"./constants\";\r\n\r\n@Injectable()\r\nexport class TransactionService {\r\n  constructor(public db: AngularFireDatabase, public authService: AuthService) {\r\n  }\r\n\r\n  getTransactions() {\r\n    let user = this.authService.getUserData();\r\n    console.log(user);\r\n    return this.db.list('transactions', {\r\n      query: {\r\n        orderByChild: 'userId',\r\n        equalTo: user.uid,\r\n      }\r\n    });\r\n  }\r\n\r\n  widthDraw(amount: number, balance: number) {\r\n    let user = this.authService.getUserData();\r\n    return this.db.list('transactions/').push({\r\n      userId: user.uid,\r\n      name: user.displayName,\r\n      amount: amount,\r\n      createdAt: Date.now(),\r\n      type: TRANSACTION_TYPE_WITHDRAW,\r\n      status: 'PENDING'\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/transaction-service.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { ReportService } from '../../services/report-service';\r\nimport { TripService } from \"../../services/trip-service\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'page-job-history',\r\n  templateUrl: 'job-history.html'\r\n})\r\nexport class JobHistoryPage {\r\n\r\n  // statistic\r\n  public stats: any = {\r\n    today: 0,\r\n    yesterday: 0,\r\n    thisMonth: 0,\r\n    lastMonth: 0,\r\n    thisYear: 0,\r\n    lastYear: 0\r\n  };\r\n\r\n  // list of records\r\n  public trips: any;\r\n\r\n  constructor(public nav: NavController, public tripService: TripService, public reportService: ReportService, public translate: TranslateService) {\r\n    reportService.getAll().take(1).subscribe(snapshot => {\r\n      console.log(snapshot);\r\n      let today = new Date();\r\n      let lastYear = today.getFullYear() - 1;\r\n      let lastMonth = (today.getMonth() > 0) ? today.getMonth() : 12;\r\n      let yesterday = new Date(Date.now() - 86400000);\r\n      let thisYear = today.getFullYear();\r\n      let thisMonth = today.getMonth() + 1;\r\n\r\n      // get current\r\n      if (snapshot[thisYear]) {\r\n        this.stats.thisYear = snapshot[thisYear].total;\r\n\r\n        if (snapshot[thisYear][thisMonth]) {\r\n          this.stats.thisMonth = snapshot[thisYear][thisMonth].total;\r\n\r\n          if (snapshot[thisYear][thisMonth][today.getDate()]) {\r\n            this.stats.today = snapshot[thisYear][thisMonth][today.getDate()].total;\r\n          }\r\n        }\r\n\r\n        if ((lastMonth != 12) && snapshot[thisYear][lastMonth]) {\r\n          this.stats.lastMonth = snapshot[thisYear][lastMonth].total;\r\n        }\r\n      }\r\n\r\n      // get last year & last month data\r\n      if (snapshot[lastYear]) {\r\n        this.stats.lastYear = snapshot[lastYear].total;\r\n\r\n        if ((lastMonth == 12) && snapshot[lastYear][lastMonth]) {\r\n          this.stats.lastMonth = snapshot[lastYear][lastMonth].total;\r\n        }\r\n      }\r\n\r\n      // get yesterday's data\r\n      if (snapshot[yesterday.getFullYear()]\r\n          && snapshot[yesterday.getFullYear()][yesterday.getMonth() + 1]\r\n          && snapshot[yesterday.getFullYear()][yesterday.getMonth() + 1][yesterday.getDate()]) {\r\n        this.stats.yesterday = snapshot[yesterday.getFullYear()][yesterday.getMonth() + 1][yesterday.getDate()].total;\r\n      }\r\n    });\r\n\r\n    this.tripService.getTrips().take(1).subscribe(snapshot => {\r\n      this.trips = snapshot.reverse();\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/job-history/job-history.ts","import { Injectable } from \"@angular/core\";\r\nimport { AngularFireDatabase } from \"angularfire2/database/database\";\r\nimport { AuthService } from \"./auth-service\";\r\n\r\n@Injectable()\r\nexport class ReportService {\r\n\r\n  constructor(public db: AngularFireDatabase, public authService: AuthService) {\r\n  }\r\n\r\n  getAll() {\r\n    let user = this.authService.getUserData();\r\n    return this.db.object('reports/' + user.uid);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/report-service.ts","export let POSITION_INTERVAL = 5000; // 5000ms for refreshing geolocation\r\n\r\nexport let DRIVER_INIT_BALANCE = 10; // balance when user signed up for first time\r\nexport let DRIVER_INIT_RATING = 5; // rating when user signedup for first time\r\n\r\nexport let DEAL_STATUS_PENDING = 'pending';\r\nexport let DEAL_STATUS_ACCEPTED = 'accepted';\r\nexport let DEAL_TIMEOUT = 20; // 20 seconds\r\n\r\nexport let TRIP_STATUS_WAITING = 'waiting';\r\nexport let TRIP_STATUS_GOING = 'going';\r\nexport let TRIP_STATUS_FINISHED = 'finished';\r\nexport let TRIP_STATUS_CANCELED = 'canceled';\r\nexport let TRANSACTION_TYPE_WITHDRAW = 'withdraw';\r\n\r\n// Global Settings\r\nexport let DEFAULT_COUNTRY_CODE = \"GB\";  // used in AccountKit Mobile verification\r\nexport let DEFAULT_COUNTRY_MOBILE_CODE = \"+44\";\r\n\r\nexport let EMAIL_VERIFICATION_ENABLED = true; // send verification email after user register\r\nexport let APPROVAL_REQUIRED = false; // driver can ride without any approval\r\nexport let CURRENCY_SYMBOL = \"$\";\r\nexport let ENABLE_SIGNUP = true;\r\nexport let PLAY_AUDIO_ON_REQUEST = true;\r\nexport let AUDIO_PATH = \"./assets/audio/sound.mp3\" //must have mp3 file\r\n\r\nexport let DEFAULT_AVATAR = './assets/img/default-dp.png';\r\nexport let CUSTOMER_CARE = \"1234567890\";\r\n\r\n/*  \r\n    !!! Important update !!!\r\n    Please update your firebase configurations on src/app/app.module.ts\r\n*/\n\n\n// WEBPACK FOOTER //\n// ./src/services/constants.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { HttpModule } from '@angular/http';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\nimport { MomentModule } from 'angular2-moment';\r\n\r\nimport { DriverService } from '../services/driver-service';\r\nimport { ReportService } from '../services/report-service';\r\nimport { TransactionService } from '../services/transaction-service';\r\nimport { PlaceService } from \"../services/place-service\";\r\nimport { DealService } from \"../services/deal-service\";\r\nimport { TripService } from \"../services/trip-service\";\r\nimport { AuthService } from \"../services/auth-service\";\r\nimport { SettingService } from \"../services/setting-service\";\r\n\r\nimport { HomePage } from '../pages/home/home';\r\nimport { JobHistoryPage } from '../pages/job-history/job-history';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { PickUpPage } from '../pages/pick-up/pick-up';\r\nimport { RegisterPage } from '../pages/register/register';\r\nimport { WalletPage } from '../pages/wallet/wallet';\r\nimport { UserPage } from \"../pages/user/user\";\r\n// end import pages\r\n\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/lang/', '.json');\r\n}\r\n\r\n// AF2 Settings\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyAl3y9HSG5jxRsBqWpCF1gDvxhWFlxVKAw\",\r\n    authDomain: \"dcs-taxi.firebaseapp.com\",\r\n    databaseURL: \"https://dcs-taxi.firebaseio.com\",\r\n    projectId: \"dcs-taxi\",\r\n    storageBucket: \"dcs-taxi.appspot.com\",\r\n    messagingSenderId: \"198003919963\"\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    JobHistoryPage,\r\n    LoginPage,\r\n    PickUpPage,\r\n    RegisterPage,\r\n    WalletPage,\r\n    UserPage,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicStorageModule.forRoot(),\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: createTranslateLoader,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    AngularFireModule.initializeApp(firebaseConfig),\r\n    AngularFireDatabaseModule,\r\n    AngularFireAuthModule,\r\n    MomentModule,\r\n    IonicModule.forRoot(MyApp, {\r\n      mode: 'md'\r\n    })\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    JobHistoryPage,\r\n    LoginPage,\r\n    PickUpPage,\r\n    RegisterPage,\r\n    WalletPage,\r\n    UserPage,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Geolocation,\r\n    DriverService,\r\n    ReportService,\r\n    TransactionService,\r\n    PlaceService,\r\n    DealService,\r\n    TripService,\r\n    AuthService,\r\n    SettingService,\r\n    /* import services */\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n  ]\r\n})\r\nexport class AppModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { ViewChild } from '@angular/core';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n// angularfire2\r\nimport { AngularFireAuth } from \"angularfire2/auth/auth\";\r\n// import service\r\nimport { AuthService } from \"../services/auth-service\";\r\nimport { PlaceService } from \"../services/place-service\";\r\nimport { DriverService } from \"../services/driver-service\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n// import page\r\nimport { HomePage } from '../pages/home/home';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { TripService } from \"../services/trip-service\";\r\nimport { PickUpPage } from \"../pages/pick-up/pick-up\";\r\n\r\nimport { TRIP_STATUS_WAITING, TRIP_STATUS_GOING } from \"../services/constants\";\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html',\r\n  queries: {\r\n    nav: new ViewChild('content')\r\n  }\r\n})\r\nexport class MyApp {\r\n  rootPage: any;\r\n  nav: any;\r\n  positionTracking: any;\r\n  driver: any;\r\n  user: any = {};\r\n  authenticated: any = 0;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, placeService: PlaceService,\r\n    driverService: DriverService, afAuth: AngularFireAuth,\r\n    public authService: AuthService, tripService: TripService, public translate: TranslateService) {\r\n \r\n    this.translate.setDefaultLang('en');\r\n    this.translate.use('en');\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n\r\n      // check for login stage, then redirect\r\n      afAuth.authState.take(1).subscribe(authData => {\r\n        if (authData) {\r\n          let root: any = HomePage;\r\n          this.authenticated = 1;\r\n          // check for uncompleted trip\r\n          tripService.getTrips().take(1).subscribe(trips => {\r\n            trips.forEach(trip => {\r\n              if (trip.status == TRIP_STATUS_WAITING || trip.status == TRIP_STATUS_GOING) {\r\n                tripService.setCurrentTrip(trip.$key);\r\n                root = PickUpPage;\r\n              }\r\n            });\r\n\r\n            // if all trip are completed, go to home page\r\n            this.nav.setRoot(root);\r\n          });\r\n        } else {\r\n          this.nav.setRoot(LoginPage);\r\n        }\r\n      });\r\n\r\n      // get user data\r\n      afAuth.authState.subscribe(authData => {\r\n        console.log(authData);\r\n        if (authData) {\r\n          this.user = authService.getUserData();\r\n\r\n          // get user info from service\r\n          driverService.setUser(this.user);\r\n          driverService.getDriver().subscribe(snapshot => {\r\n            this.driver = snapshot;\r\n          });\r\n        } else {\r\n          this.driver = null;\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var map = {\n\t\"./af\": 248,\n\t\"./af.js\": 248,\n\t\"./ar\": 249,\n\t\"./ar-dz\": 250,\n\t\"./ar-dz.js\": 250,\n\t\"./ar-kw\": 251,\n\t\"./ar-kw.js\": 251,\n\t\"./ar-ly\": 252,\n\t\"./ar-ly.js\": 252,\n\t\"./ar-ma\": 253,\n\t\"./ar-ma.js\": 253,\n\t\"./ar-sa\": 254,\n\t\"./ar-sa.js\": 254,\n\t\"./ar-tn\": 255,\n\t\"./ar-tn.js\": 255,\n\t\"./ar.js\": 249,\n\t\"./az\": 256,\n\t\"./az.js\": 256,\n\t\"./be\": 257,\n\t\"./be.js\": 257,\n\t\"./bg\": 258,\n\t\"./bg.js\": 258,\n\t\"./bm\": 259,\n\t\"./bm.js\": 259,\n\t\"./bn\": 260,\n\t\"./bn.js\": 260,\n\t\"./bo\": 261,\n\t\"./bo.js\": 261,\n\t\"./br\": 262,\n\t\"./br.js\": 262,\n\t\"./bs\": 263,\n\t\"./bs.js\": 263,\n\t\"./ca\": 264,\n\t\"./ca.js\": 264,\n\t\"./cs\": 265,\n\t\"./cs.js\": 265,\n\t\"./cv\": 266,\n\t\"./cv.js\": 266,\n\t\"./cy\": 267,\n\t\"./cy.js\": 267,\n\t\"./da\": 268,\n\t\"./da.js\": 268,\n\t\"./de\": 269,\n\t\"./de-at\": 270,\n\t\"./de-at.js\": 270,\n\t\"./de-ch\": 271,\n\t\"./de-ch.js\": 271,\n\t\"./de.js\": 269,\n\t\"./dv\": 272,\n\t\"./dv.js\": 272,\n\t\"./el\": 273,\n\t\"./el.js\": 273,\n\t\"./en-au\": 274,\n\t\"./en-au.js\": 274,\n\t\"./en-ca\": 275,\n\t\"./en-ca.js\": 275,\n\t\"./en-gb\": 276,\n\t\"./en-gb.js\": 276,\n\t\"./en-ie\": 277,\n\t\"./en-ie.js\": 277,\n\t\"./en-il\": 278,\n\t\"./en-il.js\": 278,\n\t\"./en-nz\": 279,\n\t\"./en-nz.js\": 279,\n\t\"./eo\": 280,\n\t\"./eo.js\": 280,\n\t\"./es\": 281,\n\t\"./es-do\": 282,\n\t\"./es-do.js\": 282,\n\t\"./es-us\": 283,\n\t\"./es-us.js\": 283,\n\t\"./es.js\": 281,\n\t\"./et\": 284,\n\t\"./et.js\": 284,\n\t\"./eu\": 285,\n\t\"./eu.js\": 285,\n\t\"./fa\": 286,\n\t\"./fa.js\": 286,\n\t\"./fi\": 287,\n\t\"./fi.js\": 287,\n\t\"./fo\": 288,\n\t\"./fo.js\": 288,\n\t\"./fr\": 289,\n\t\"./fr-ca\": 290,\n\t\"./fr-ca.js\": 290,\n\t\"./fr-ch\": 291,\n\t\"./fr-ch.js\": 291,\n\t\"./fr.js\": 289,\n\t\"./fy\": 292,\n\t\"./fy.js\": 292,\n\t\"./gd\": 293,\n\t\"./gd.js\": 293,\n\t\"./gl\": 294,\n\t\"./gl.js\": 294,\n\t\"./gom-latn\": 295,\n\t\"./gom-latn.js\": 295,\n\t\"./gu\": 296,\n\t\"./gu.js\": 296,\n\t\"./he\": 297,\n\t\"./he.js\": 297,\n\t\"./hi\": 298,\n\t\"./hi.js\": 298,\n\t\"./hr\": 299,\n\t\"./hr.js\": 299,\n\t\"./hu\": 300,\n\t\"./hu.js\": 300,\n\t\"./hy-am\": 301,\n\t\"./hy-am.js\": 301,\n\t\"./id\": 302,\n\t\"./id.js\": 302,\n\t\"./is\": 303,\n\t\"./is.js\": 303,\n\t\"./it\": 304,\n\t\"./it.js\": 304,\n\t\"./ja\": 305,\n\t\"./ja.js\": 305,\n\t\"./jv\": 306,\n\t\"./jv.js\": 306,\n\t\"./ka\": 307,\n\t\"./ka.js\": 307,\n\t\"./kk\": 308,\n\t\"./kk.js\": 308,\n\t\"./km\": 309,\n\t\"./km.js\": 309,\n\t\"./kn\": 310,\n\t\"./kn.js\": 310,\n\t\"./ko\": 311,\n\t\"./ko.js\": 311,\n\t\"./ky\": 312,\n\t\"./ky.js\": 312,\n\t\"./lb\": 313,\n\t\"./lb.js\": 313,\n\t\"./lo\": 314,\n\t\"./lo.js\": 314,\n\t\"./lt\": 315,\n\t\"./lt.js\": 315,\n\t\"./lv\": 316,\n\t\"./lv.js\": 316,\n\t\"./me\": 317,\n\t\"./me.js\": 317,\n\t\"./mi\": 318,\n\t\"./mi.js\": 318,\n\t\"./mk\": 319,\n\t\"./mk.js\": 319,\n\t\"./ml\": 320,\n\t\"./ml.js\": 320,\n\t\"./mn\": 321,\n\t\"./mn.js\": 321,\n\t\"./mr\": 322,\n\t\"./mr.js\": 322,\n\t\"./ms\": 323,\n\t\"./ms-my\": 324,\n\t\"./ms-my.js\": 324,\n\t\"./ms.js\": 323,\n\t\"./mt\": 325,\n\t\"./mt.js\": 325,\n\t\"./my\": 326,\n\t\"./my.js\": 326,\n\t\"./nb\": 327,\n\t\"./nb.js\": 327,\n\t\"./ne\": 328,\n\t\"./ne.js\": 328,\n\t\"./nl\": 329,\n\t\"./nl-be\": 330,\n\t\"./nl-be.js\": 330,\n\t\"./nl.js\": 329,\n\t\"./nn\": 331,\n\t\"./nn.js\": 331,\n\t\"./pa-in\": 332,\n\t\"./pa-in.js\": 332,\n\t\"./pl\": 333,\n\t\"./pl.js\": 333,\n\t\"./pt\": 334,\n\t\"./pt-br\": 335,\n\t\"./pt-br.js\": 335,\n\t\"./pt.js\": 334,\n\t\"./ro\": 336,\n\t\"./ro.js\": 336,\n\t\"./ru\": 337,\n\t\"./ru.js\": 337,\n\t\"./sd\": 338,\n\t\"./sd.js\": 338,\n\t\"./se\": 339,\n\t\"./se.js\": 339,\n\t\"./si\": 340,\n\t\"./si.js\": 340,\n\t\"./sk\": 341,\n\t\"./sk.js\": 341,\n\t\"./sl\": 342,\n\t\"./sl.js\": 342,\n\t\"./sq\": 343,\n\t\"./sq.js\": 343,\n\t\"./sr\": 344,\n\t\"./sr-cyrl\": 345,\n\t\"./sr-cyrl.js\": 345,\n\t\"./sr.js\": 344,\n\t\"./ss\": 346,\n\t\"./ss.js\": 346,\n\t\"./sv\": 347,\n\t\"./sv.js\": 347,\n\t\"./sw\": 348,\n\t\"./sw.js\": 348,\n\t\"./ta\": 349,\n\t\"./ta.js\": 349,\n\t\"./te\": 350,\n\t\"./te.js\": 350,\n\t\"./tet\": 351,\n\t\"./tet.js\": 351,\n\t\"./tg\": 352,\n\t\"./tg.js\": 352,\n\t\"./th\": 353,\n\t\"./th.js\": 353,\n\t\"./tl-ph\": 354,\n\t\"./tl-ph.js\": 354,\n\t\"./tlh\": 355,\n\t\"./tlh.js\": 355,\n\t\"./tr\": 356,\n\t\"./tr.js\": 356,\n\t\"./tzl\": 357,\n\t\"./tzl.js\": 357,\n\t\"./tzm\": 358,\n\t\"./tzm-latn\": 359,\n\t\"./tzm-latn.js\": 359,\n\t\"./tzm.js\": 358,\n\t\"./ug-cn\": 360,\n\t\"./ug-cn.js\": 360,\n\t\"./uk\": 361,\n\t\"./uk.js\": 361,\n\t\"./ur\": 362,\n\t\"./ur.js\": 362,\n\t\"./uz\": 363,\n\t\"./uz-latn\": 364,\n\t\"./uz-latn.js\": 364,\n\t\"./uz.js\": 363,\n\t\"./vi\": 365,\n\t\"./vi.js\": 365,\n\t\"./x-pseudo\": 366,\n\t\"./x-pseudo.js\": 366,\n\t\"./yo\": 367,\n\t\"./yo.js\": 367,\n\t\"./zh-cn\": 368,\n\t\"./zh-cn.js\": 368,\n\t\"./zh-hk\": 369,\n\t\"./zh-hk.js\": 369,\n\t\"./zh-tw\": 370,\n\t\"./zh-tw.js\": 370\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 491;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 491\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController, ModalController, AlertController, MenuController } from 'ionic-angular';\r\n\r\nimport { DriverService } from '../../services/driver-service';\r\nimport { DEAL_STATUS_PENDING, DEAL_TIMEOUT, POSITION_INTERVAL, PLAY_AUDIO_ON_REQUEST, AUDIO_PATH } from \"../../services/constants\";\r\nimport { DealService } from \"../../services/deal-service\";\r\nimport { AuthService } from \"../../services/auth-service\";\r\nimport { PlaceService } from \"../../services/place-service\";\r\n\r\nimport { PickUpPage } from \"../pick-up/pick-up\";\r\nimport { UserPage } from \"../user/user\";\r\nimport { WalletPage } from '../wallet/wallet';\r\nimport { JobHistoryPage } from '../job-history/job-history';\r\n\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  map: any;\r\n  driver: any;\r\n  deal: any;\r\n  dealSubscription: any;\r\n  isDriverAvailable: any = false;\r\n  positionTracking: any;\r\n  dealStatus: any = false;\r\n\r\n  public job: any;\r\n  public remainingTime = DEAL_TIMEOUT;\r\n  \r\n  constructor(public nav: NavController, public driverService: DriverService, public menu:MenuController, public modalCtrl: ModalController, public alertCtrl: AlertController, public dealService: DealService, public authService: AuthService, public placeService: PlaceService, public geolocation: Geolocation, public translate: TranslateService) {\r\n      this.menu.enable(true);\r\n   }\r\n  loadMap(lat,lng){\r\n    let latLng = new google.maps.LatLng(lat,lng);\r\n    this.map = new google.maps.Map(document.getElementById('map'), {\r\n      zoom: 15,\r\n      center: latLng,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n      mapTypeControl: false,\r\n      zoomControl: false,\r\n      streetViewControl: false,\r\n    });\r\n    new google.maps.Marker({\r\n      map: this.map,\r\n      animation: google.maps.Animation.DROP,\r\n      position: latLng\r\n    });\r\n  }\r\n\r\n  changeAvailability(){\r\n    console.log(this.isDriverAvailable);\r\n    if(this.isDriverAvailable == true){\r\n            // get current location\r\n            this.geolocation.getCurrentPosition().then((resp) => {\r\n              let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\r\n              let geocoder = new google.maps.Geocoder();\r\n    \r\n              this.loadMap(resp.coords.latitude,resp.coords.longitude);\r\n              // find address from lat lng\r\n              geocoder.geocode({'latLng': latLng}, (results, status) => {\r\n                if (status == google.maps.GeocoderStatus.OK) {\r\n                  // save locality\r\n                  let locality = this.placeService.setLocalityFromGeocoder(results);\r\n                  console.log('locality', locality);\r\n                  \r\n                  // start tracking\r\n                  this.positionTracking = setInterval(() => {\r\n                    // check for driver object, if it did not complete profile, stop updating location\r\n                    console.log(\"pos track\")\r\n                    if (!this.driver || !this.driver.type) {\r\n                      return;\r\n                    }\r\n                    // Immediate update\r\n                    this.driverService.updatePosition(this.driver.$key, this.driver.type, locality, resp.coords.latitude,resp.coords.longitude, this.driver.rating, this.driver.name);\r\n\r\n                    // Periodic update after particular time intrvel\r\n                    this.geolocation.getCurrentPosition().then((resp) => {\r\n                      console.log(resp);\r\n                      this.driverService.updatePosition(this.driver.$key, this.driver.type, locality, resp.coords.latitude,resp.coords.longitude, this.driver.rating, this.driver.name);\r\n                    }, err => {\r\n                      console.log(err);\r\n                    });\r\n\r\n                  }, POSITION_INTERVAL);\r\n                  \r\n\r\n                  this.watchDeals();\r\n                }\r\n              });\r\n            }, err => {\r\n              console.log(err);\r\n            });\r\n      \r\n    }\r\n    else{\r\n      clearInterval(this.positionTracking);\r\n      if (this.dealSubscription) {\r\n        // unsubscribe when leave this page\r\n        this.dealSubscription.unsubscribe();\r\n      } \r\n    }\r\n    \r\n  }\r\n  ionViewWillLeave() {\r\n    if (this.dealSubscription) {\r\n      // unsubscribe when leave this page\r\n      this.dealSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  // count down\r\n  countDown() {\r\n    let interval = setInterval(() => {\r\n      this.remainingTime--;\r\n      if (this.remainingTime == 0) {\r\n        clearInterval(interval)\r\n        this.cancelDeal();\r\n        this.remainingTime = DEAL_TIMEOUT;\r\n      }\r\n    }, 1000);\r\n    this.confirmJob();\r\n  }\r\n\r\n  cancelDeal(){\r\n    console.log(\"close\")\r\n    this.dealStatus = false;\r\n    this.dealService.removeDeal(this.driver.$key);\r\n  }\r\n\r\n  ionViewDidLoad(){\r\n    this.driverService.getDriver().take(1).subscribe(snapshot => {\r\n      this.driver = snapshot;\r\n      \r\n      if (!this.driver.plate && !this.driver.type) {\r\n        this.nav.setRoot(UserPage, {\r\n          user: this.authService.getUserData()\r\n        });\r\n      }\r\n      \r\n    });\r\n  }\r\n\r\n  range(n) {\r\n    return new Array(Math.round(n));\r\n  }\r\n\r\n  // confirm a job\r\n  confirmJob() {\r\n    console.log(\"confirm\");\r\n    let message = \"<b>From:</b> (\"+this.job.origin.distance+\"km)<br/>\"+ this.job.origin.vicinity +\"<br/><br/> <b>To:</b>(\"+this.job.destination.distance+\"km)<br>\"+this.job.destination.vicinity+\"\";\r\n\r\n    let confirm = this.alertCtrl.create({\r\n      title: 'New Request',\r\n      message:message,\r\n      buttons: [\r\n        {\r\n          text: 'Reject',\r\n          handler: () => {\r\n            console.log('Disagree clicked');\r\n            this.dealStatus = false;\r\n            this.dealService.removeDeal(this.driver.$key);\r\n          }\r\n        },\r\n        {\r\n          text: 'Accept',\r\n          handler: () => {\r\n            this.dealStatus = false;\r\n            this.dealService.acceptDeal(this.driver.$key, this.deal).then(() => {\r\n              // go to pickup page\r\n              this.nav.setRoot(PickUpPage);\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n    this.playAudio();\r\n  }\r\n\r\n\r\n  // listen to deals\r\n  watchDeals() {\r\n    // listen to deals\r\n    this.dealSubscription = this.dealService.getDeal(this.driver.$key).subscribe(snapshot => {\r\n      this.deal = snapshot;\r\n      if (snapshot.status == DEAL_STATUS_PENDING) {\r\n        // if deal expired\r\n        if (snapshot.createdAt < (Date.now() - DEAL_TIMEOUT * 1000)) {\r\n          return this.dealService.removeDeal(this.driver.$key);\r\n        }\r\n        this.dealStatus = true;\r\n        console.log(this.dealStatus);\r\n        \r\n        \r\n        this.job = snapshot;\r\n\r\n        this.geolocation.getCurrentPosition().then((resp) => {\r\n          //resp.coords.longitude\r\n          this.job.origin.distance = this.placeService.calcCrow( resp.coords.latitude, resp.coords.longitude, this.job.origin.location.lat,this.job.origin.location.lng).toFixed(0);\r\n          this.job.destination.distance = this.placeService.calcCrow( resp.coords.latitude, resp.coords.longitude, this.job.destination.location.lat,this.job.destination.location.lng).toFixed(0);\r\n          this.countDown();\r\n        }, err => {\r\n          console.log(err);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goProfile(){\r\n    this.nav.push(UserPage,{ user: this.authService.getUserData()});\r\n  }\r\n\r\n  goWallet(){\r\n    this.nav.push(WalletPage);\r\n  }\r\n  goHistory(){\r\n    this.nav.push(JobHistoryPage);\r\n  }\r\n  playAudio(){\r\n    if(PLAY_AUDIO_ON_REQUEST == true){\r\n      let audio = new Audio(AUDIO_PATH);\r\n      audio.play();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from \"@angular/core\";\r\nimport { AngularFireDatabase } from \"angularfire2/database/database\";\r\nimport { TRIP_STATUS_WAITING, TRIP_STATUS_GOING, TRIP_STATUS_FINISHED, TRIP_STATUS_CANCELED } from \"./constants\";\r\nimport { AuthService } from \"./auth-service\";\r\n\r\n@Injectable()\r\nexport class TripService {\r\n  currentTrip: any;\r\n\r\n  constructor(public db: AngularFireDatabase, public authService: AuthService) {\r\n  }\r\n\r\n  // create trip from deal object\r\n  createFromDeal(deal) {\r\n    deal.status = TRIP_STATUS_WAITING;\r\n    deal.otp = Math.floor(Math.random() * 9999);\r\n    return this.db.list('trips').push(deal);\r\n  }\r\n\r\n  // pickup passenger\r\n  pickUp(tripId) {\r\n    this.db.object('trips/' + tripId).update({\r\n      pickedUpAt: Date.now(),\r\n      status: TRIP_STATUS_GOING\r\n    })\r\n  }\r\n\r\n  // drop off\r\n  dropOff(tripId) {\r\n    this.db.object('trips/' + tripId).update({\r\n      droppedOffAt: Date.now(),\r\n      status: TRIP_STATUS_FINISHED\r\n    })\r\n  }\r\n\r\n  cancel(tripId) {\r\n    this.db.object('trips/' + tripId).update({\r\n      droppedOffAt: Date.now(),\r\n      status: TRIP_STATUS_CANCELED\r\n    })\r\n  }\r\n\r\n  setCurrentTrip(tripId) {\r\n    return this.db.object('trips/' + tripId).take(1).subscribe(snapshot => {\r\n      this.currentTrip = snapshot;\r\n    });\r\n  }\r\n\r\n  getCurrentTrip() {\r\n    console.log(this.currentTrip);\r\n    return this.currentTrip;\r\n  }\r\n\r\n  getTripStatus(tripId){\r\n    return this.db.object('trips/' + tripId);\r\n  }\r\n\r\n  getPassenger(passengerId) {\r\n    return this.db.object('passengers/' + passengerId);\r\n  }\r\n\r\n  // get driver's trip\r\n  getTrips() {\r\n    let user = this.authService.getUserData();\r\n    return this.db.list('trips', {\r\n      query: {\r\n        orderByChild: 'driverId',\r\n        equalTo: user.uid,\r\n      }\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/trip-service.ts","import { Injectable } from \"@angular/core\";\r\nimport { Http } from \"@angular/http\";\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\nimport 'rxjs/add/operator/map'\r\n\r\n@Injectable()\r\nexport class PlaceService {\r\n  private locality: any;\r\n\r\n  constructor(public http: Http, public storage: Storage) {\r\n\r\n  }\r\n\r\n  //This function takes in latitude and longitude of two location and returns the distance between them as the crow flies (in km)\r\n  calcCrow(lat1, lon1, lat2, lon2) {\r\n    let R = 6371; // km\r\n    let dLat = this.toRad(lat2 - lat1);\r\n    let dLon = this.toRad(lon2 - lon1);\r\n    lat1 = this.toRad(lat1);\r\n    lat2 = this.toRad(lat2);\r\n\r\n    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\r\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    let d = R * c;\r\n\r\n    return d;\r\n  }\r\n\r\n  // Converts numeric degrees to radians\r\n  toRad(value) {\r\n    return value * Math.PI / 180;\r\n  }\r\n\r\n  // set locality from geocoder result\r\n  // @param results: Geocoder array results\r\n  setLocalityFromGeocoder(results) {\r\n    let component;\r\n    let address;\r\n\r\n    for (let i = 0; i < results.length; i++) {\r\n      address = results[i];\r\n      for (let j = 0; j < address.address_components.length; j++) {\r\n        component = address.address_components[j];\r\n\r\n        if (component.types[0] == 'locality') {\r\n        // if (component.types[0] == 'administrative_area_level_2') {\r\n          // escape firebase characters\r\n          let locality = component.short_name.replace(/[\\%\\.\\#\\$\\/\\[\\]]/, '_');\r\n          this.setLocality(locality);\r\n\r\n          return locality;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  setLocality(locality) {\r\n    return this.locality = locality;\r\n  }\r\n\r\n  getLocality() {\r\n    return this.locality;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/place-service.ts","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\nimport { AuthService } from \"./auth-service\";\r\n\r\n@Injectable()\r\nexport class DriverService {\r\n  user: any;\r\n\r\n  constructor(public db: AngularFireDatabase, public authService: AuthService) {\r\n    this.user = this.authService.getUserData();\r\n  }\r\n\r\n  setUser(user) {\r\n    this.user = user;\r\n  }\r\n\r\n  // get driver by id\r\n  getDriver() {\r\n    let user = this.authService.getUserData();\r\n    return this.db.object('drivers/' + user.uid);\r\n  }\r\n\r\n  // update driver's position\r\n  updatePosition(vehicleId, vehicleType, locality, lat, lng, rating, name) {\r\n    let path = 'localities/' + locality + '/' + vehicleType + '/' + vehicleId;\r\n    console.log('tracking', lat, lng);\r\n    this.db.object(path).take(1).subscribe(snapshot => {\r\n      console.log(snapshot);\r\n      // insert if not exists\r\n      if (snapshot.$value === null) {\r\n        this.db.object(path).set({\r\n          lat: lat,\r\n          lng: lng,\r\n          oldLat: lat,\r\n          oldLng: lng,\r\n          last_active: Date.now(),\r\n          rating: rating,\r\n          name: name\r\n        });\r\n\r\n      } else {\r\n        // update\r\n        this.db.object(path).update({\r\n          lat: lat,\r\n          lng: lng,\r\n          oldLat: snapshot.lat,\r\n          oldLng: snapshot.lng,\r\n          last_active: Date.now(),\r\n          rating: rating,\r\n          name: name\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/driver-service.ts","import { Component } from '@angular/core';\r\nimport { NavController, AlertController, LoadingController, ToastController, MenuController } from 'ionic-angular';\r\nimport { RegisterPage } from '../register/register';\r\nimport { HomePage } from '../home/home'\r\nimport { AuthService } from \"../../services/auth-service\";\r\nimport { ENABLE_SIGNUP } from \"../../services/constants\";\r\nimport * as firebase from 'firebase';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n  userInfo: any = {};\r\n  isRegisterEnabled = ENABLE_SIGNUP;\r\n\r\n  constructor(public nav: NavController, public menu:MenuController, public authService: AuthService, public alertCtrl: AlertController, public loadingCtrl: LoadingController, public toast: ToastController, public translate: TranslateService) { \r\n    this.menu.enable(false);\r\n  }\r\n\r\n  // go to signup page\r\n  signup() {\r\n    this.nav.push(RegisterPage);\r\n  }\r\n\r\n  // go to login page\r\n  login() {\r\n    let loading = this.loadingCtrl.create({ content: 'Please wait...' });\r\n    loading.present();\r\n\r\n    this.authService.login(this.userInfo.email, this.userInfo.password).then(authData => {\r\n      loading.dismiss();\r\n      this.nav.setRoot(HomePage);\r\n    }, error => {\r\n      loading.dismiss();\r\n      let alert = this.alertCtrl.create({\r\n        message: error.message,\r\n        buttons: ['OK']\r\n      });\r\n      alert.present();\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    if (this.userInfo.email) {\r\n      firebase.auth().sendPasswordResetEmail(this.userInfo.email)\r\n        .then(data =>\r\n          this.toast.create({ message: 'Please check your mail', duration: 3000 }).present())\r\n        .catch(err => this.toast.create({ message: err.message, duration: 3000 }).present())\r\n    } else{\r\n      this.toast.create({ message: 'Please enter email address first', duration: 3000 }).present()\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}